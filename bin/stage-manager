#!/usr/bin/env bash

function usage() {
   1>&2 echo "$(basename "$0")" '[ true | false | on | off ]'
}

[ $# -gt 1 ] && usage && exit 1

[ $# -eq 0 ] && defaults read com.apple.WindowManage && exit $?

case "$1" in
   on | true) 
      defaults write com.apple.WindowManager GloballyEnabled -bool true
      ;;
   off | false)
      defaults write com.apple.WindowManager GloballyEnabled -bool false
      ;;
   *) 1>&2 echo Unsupported option "$1". && exit 2
      ;;
esac


